From meb117@cac.psu.edu Fri Apr 22 21:52:03 1994
From: meb117@cac.psu.edu (Matthew E Bernold)
Newsgroups: comp.sys.ibm.pc.soundcard,comp.music,rec.music.makers.synth,comp.sys.ibm.pc.hardware,comp.answers,rec.answers,news.answers
Subject: FAQ: Gravis Ultrasound ("GUS") FAQ v1.55
Followup-To: comp.sys.ibm.pc.soundcard
Date: 21 Apr 1994 19:08:42 GMT
Organization: Penn State University, Center for Academic Computing
Distribution: inet
NNTP-Posting-Host: curtiss.cac.psu.edu
Summary: A list of Frequently Asked Questions (and answers) concerning the Gravis Ultrasound (GUS) sound card for IBM PC's.
Keywords: gravis ultrasound gus faq synth synthesizer soundcard adlib soundblaster music midi sound audio os2 os/2
X-Star-Trek-Quote: He's Dead Jim.
X-Nickname: <<APOCALYPSE>>, Lord of Destruction
Archive-Name: PCsoundcards/gravis-ultrasound/faq
Last-Modified: 94/04/07
Version: 1.55


        GRAVIS ULTRASOUND ("GUS") FAQ VERSION 1.55 [94/04/07]
 
----------------------------------------------------------------------
 
QUICK NOTE: There is now a file posted that lists changes to the current
            FAQ from the last posting.  This file is intended for those
            of you out there who have already read the FAQ, and don't
            want to have to read it all again to find changes.  Look for
            it to be posted along with the FAQ.
 
        Certain questions concerning the Gravis UltraSound ("GUS")
sound card are asked over and over on the UltraSound Daily Digest (a
mailing list for GUS users) and on comp.sys.ibm.pc.soundcard.  In an
attempt to alleviate some redundancy from the lives of USENET/Internet
folk, this FAQ (Frequently Asked Questions, with answers) list has
been created.  It is maintained by Matthew Bernold (MEB117@PSUVM.PSU.EDU)
If you have any questions, comments, complaints, or extra cash, (especially
the cash) please feel free to send them to him.  Please do not send your
question more than once, as Matthew does have other things to do aside from
answering FAQ mail.  If you do not get an answer after a month or so, then
there may be a mail problem.  :-)
 
NOTE: All submissions by mail to the GUS FAQ must have a subject line that
      looks like one of the following:
 
      Subject: GUS FAQ Q*: rest of subject
      Subject: GUS FAQ: rest of subject
 
      If the submission refers to a specific question in the FAQ, use the
      first subject line and replace "*" with the question number.
 
      Any FAQ submissions that do not have the proper Subject line may be
      deleted accidentally while I'm sifting through my mail discarding junk,
      so please, for my sanity, try to use the Subject lines above.
 
        If you would like to join the mailing list and be privy to the
latest and greatest information, banter, and poor spelling concerning
the GUS, mail to <gus-general-request@mail.orst.edu>.  The automated
server will tell you how to sign up for the mailing list, tell you
where the FTP sites associated with the Digest are (they recieve
software updates directly from Gravis often), and other such
information that will eventually lead you down the trail to Nirvana,
Valhalla, Heaven, or whatever Land O' Happiness your religion wants to
get to.
 
        BTW: All FAQs, including this one, are available on the
archive site rtfm.mit.edu in the directory pub/usenet/news.answers.
The name under which a FAQ is archived appears in the "Archive-Name:"
line at the top of the article.  This FAQ is archived as
PCsoundcards/gravis-ultrasound/faq.
 
        Special thanks are due to many people who helped (and are
helping) with this FAQ.  I won't try to name off people; I'll probably
forget half of you, and you all know who you are, anyway.
 
----------------------------------------------------------------------
 
        BIG IMPORTANT NOTE: Neither this FAQ, the mailing lists or
digests, nor the FTP sites are owned or operated by Gravis.  Gravis
employees *read* the digest and mailing lists and they upload things
to the FTP sites, but that's it.
 
        SO: Please don't email me about problems with your card, if
the latest release of software hasn't arrived on disks in the mail
yet, lack of documentation, etc., etc.  I'm doing this on my own time,
and I have no desire to receive hate mail intended for Gravis.
 
----------------------------------------------------------------------
 
Index of Questions
------------------
         1] What is the GUS?
         2] How does the GUS emulate other soundcards?
         3] Where can I get a GUS, and how much will it cost?
         4] What version of the GUS hardware is the latest?
         5] What GUS software is available?  What version is it?
         6] Where can I get the latest GUS software?
            (AKA: Where is the GUS FTP site and/or Gravis BBS?)
                6a] What if I don't have FTP access?
         7] What machines will the GUS work with?
                7a] I've heard about problems with the OPTi chipset...
         8] Why should I upgrade the memory onboard my GUS?
         9] Where can I get memory for the GUS, and how much will it cost?
        10] I'm having trouble getting the GUS to work with Windows...
        11] What new hardware is coming out for the GUS?
        12] How do I build the MIDI interface for the GUS?
        13] What exactly is GUS 3D?
        14] What are *.PAT *.VOC *.WAV *.SND *.MOD *.669, and *.MID
                files, and how do I use them?
        15] What exactly is Wavetable Synthesis?
        16] Is there a GUS device driver for Linux/BSD386/*IX?
        17] How do I get the GUS to work with OS/2?
        18] How do I go about programming the GUS?
        19] What are the pinouts for the CD Audio IN on the GUS?
        20] I'm having trouble with... GENERAL TROUBLESHOOTING TIPS
        21] I can't seem to fit the new disks onto a floppy.
        22] Why shouldn't I use the comp.sys.ibm.pc.soundcard.GUS
                newgroup?
        23] What are "Miles Drivers", and how do I use them?
        24] Where can I find more information on the GUS?
 
----------------------------------------------------------------------
 
 1] What is the GUS?
 
        The Gravis UltraSound (generall referred to as the "GUS") is a
sound card built by Advanced Gravis Technologies (GRVSF on the Nasdaq
exchange).  It is a stereo card that can play 32 synthesized voices
and 32 sampled voices simultaneously.  It is also MIDI compatible.
 
        The synthesizer on the GUS is based on a technology called
Wavetable Synthesis (WS) instead of FM synthesis (like the Adlib and
Soundblaster series).  WS is flexible enough to emulate FM synthesis,
and so an emulator has been created so SoundBlaster and Adlib programs
can use the GUS (see question #2).
 
        The GUS, in its basic state, can sample 8 bit stereo at 44kHz.
It can playback 16 bit stereo samples at 44kHz.  There is a
daughterboard that you can buy (to be released) and plug on to the GUS
that makes it possible to sample at 16 bit stereo 44kHz.
 
        Each voice can play independantly, but as the maximum number
of voices goes up, the sample playback rate drops.  With 14 active
voices, the GUS can playback at 44100Hz.  At 28 active voices, the
playback rate drops to 22050Hz.  With the maximum 32 voices, the GUS
can playback at a rate of 19293Hz.  Following is a chart taken from the
GUS SDK v2.01 listing the number of active voices and the playback rate.
 
  Active   Playback    Active   Playback    Active   Playback
  voices     rate      voices     rate      voices     rate
    14      44100        21      29400        27      22866
    15      41160        22      28063        28      22050
    16      38587        23      26843        29      21289
    17      36317        24      25725        30      20580
    18      34300        25      24696        31      19916
    19      32494        26      23746        32      19293
    20      30870
 
        If you tell the GUS to play at a different rate than listed
above, the GF1 processor automatically interpolates the sample, and
simulates playback at the desired rate.
 
        Each voice also has 15 panning positions, and 4096 settings of
volume.  The GUS has automated volume-ramping that can be used as
one-shot or oscillating volume modulators.  Thus, amplitude envelopes
use very little CPU horsepower.  For more technical information, read
the GUS SDK (see question #24).
 
        The GUS has the following "external" ports:
        o Stereo line in
        o Stereo line out
        o Stereo amplified out
        o Stereo microphone in
        o Game port / MIDI port
 
        The GUS has several "internal" ports, including:
        o CD Audio IN
        o Expansion ports for daughtercards (see question #15).
        o Other as of yet unexplained pins/ports.
 
        The game port can be changed to MIDI in/out/through ports by
means of an adapter available from Gravis.  Alternatively (and for a
LOT less money) you can build your own (see question #17).
 
----------------------------------------------------------------------
 
 2] How does the GUS emulate other soundcards?
 
        Right now, there are several ways the GUS may emulate other
soundcards/soundcard combinations.  Following is a list of combinations
that the GUS may emulate, and the program to be used for this emulation:
 
        Sound Blaster/Adlib        SBOS
        Roland/SB Digital          MegaEm
        General MIDI/SB Digital    MegaEm
 
-----
Written by: Don ????? (????@????????)  Don, please get in touch so I
                                       can fix this.
 
        The GUS can currently emulate the Sound Blaster (mono), and also
the Roland MT32/LAPC1 and Sound Canvas, and even a combination of
Roland+SB.
 
        The Sound Blaster FM music emulation is provided by a software
program called SBOS - Sound Board Operating System.  This is a TSR which
links to the Non-Maskable Interrupt (NMI).  SBOS is currently supplied
with the GUS but is continually being updated.
 
   [NOTE: A small number of motherboards have the NMI disabled.  This
   is unacceptable practice and makes the motherboard not IBM-AT
   compatible.  There may be a jumper to re-enable it.  You should be
   within your rights to demand a motherboard with NMI enabled.  If you
   have this problem help is around the corner - read on..]
 
        The emulation quality depends on the particular game but ranges
>from very comparable to yuck, much of which is personal preference.
However FM synthesis as used by the Sound Blaster never sounds good
compared the GUS's native sound and other emulations.
 
        Sound Blaster DAC emulation is provided by two programs - SBOS,
(giving full SBemulation for games), and Mega-em.
 
        The latest version as of 18Jan94 of SBOS is 3.7.  This is
available at the FTP archive sites and Gravis support BBSs around the
world.
 
        Mega-em also provides the Roland MT32/LAPC1 and Sound Canvas
cards emulations.  Mega-em uses no conventional memory but does require
and EMS memory manager suchas EMM386.EXE,QEMM,etc.
 
        A lot of older games support MT32.  Most new games support the
Sound Canvas as a'General MIDI' device.  These games expect these
devices to be connected to a MPU-401 compatible MIDI port and Mega-em
emulates this.  Mega-em then sets up theGUS's patches to match either
the MT32 or General MIDI.
 
        The sound quality of Mega-em is very good.  Emulation of General
MIDI is better than MT32.
 
   [Many games support the MT32 by reprogramming it's patches to create
   new sound effects and new instruments.  Mega-em cannot emulate these
   new instruments on thefly so some instruments/sfx may sound quite
   wrong.  However you can manually replace patches in Mega-em's setup
   to more closely match the desired instrument/sfx.]
 
        Mega-em's SBDAC emulation means that you can use General MIDI
for the music andSB for the sfx on many games.  Only versions later than
2.3b support SBDAC.
 
        This program is available the same places as SBOS but is not
currently suppliedwith the GUS and it's free.  Latest version is 2.02
 
        Now the good news for NMI problems, it is planned for Mega-em to
support the Sound Blaster's FM music in the near future.  It is also
probable that Mega-em will provide full MPU-401 emulation for the GUS
MIDI port under DOS.
-----
 
The G-List:  (See also Q24)
 
        There is a GUS compatibility list available from the GUS FTP
sites.  It is called the G-List (glist.zip).  This list tells you
what programs work with the GUS, how well they work, and how you get
them to work with your card (which emulator to use).  It also tells
you the latest version of the emulators, and where to find them.
 
        The author of this program, Marc Paulin
(markus@clement.info.umoncton.ca), has made this program available by
posting to netnews weekly, placing the latest version on the FTP sites,
and by making the G-List his .plan file.  If you can use finger, you can
get the G-List by typing:
 
        finger markus@clement.info.umoncton.ca
 
In unix, to put this in a file glist.txt, type:
 
        finger markus@clement.info.umoncton.ca > glist.txt
 
For other operating systems, ask your sysadmin.
 
        This list is based on contributions from GUS users, so if you
find a mistake in the list, or try a new game that works with the GUS,
or anything else, mail him with the info.
 
----------------------------------------------------------------------
 
 3] Where can I get a GUS, and how much will it cost?
 
        The "suggested retail" for the card is $200 (U.S. dollars),
but if you pay that much, you haven't done your homework.  However,
homework on this card isn't easy because Gravis still hasn't actually
advertised (they have a weird policy concerning advertising).
 
Here are some mail order places that supposedly carry the GUS.  Since
prices tend to change faster than FAQs, I am not posting prices.  For
our non-american users, there are some FAX or non-800 numbers as well.
 
Vendor                 800 Number          FAX             Voice
Bit Wit Software     1-800-259-2453   1-214-306-9603   1-214-539-5473
Chips & Bits         1-800-753-4263   1-802-767-3382   1-802-767-3033
Computer Express     1-800-228-7449   1-508-443-5645
Disk-Count Software  1-800-448-6658   1-908-396-8881   1-908-396-8880
Incredible Universe                                    1-503-682-8100
Mission Control      1-800-999-7995   1-201-677-9484   1-201-677-1400
Viking Software      1-800-852-6187   1-404-840-7925
Zeroes & Ones        1-800-788-2193   1-702-897-1571
 
        If you call around, you should have no trouble getting the GUS
for less than $150.  Suggested places are Babbages, Bizmart, OfficeMax,
and Disk-Count software.
 
----------------------------------------------------------------------
 
 4] What version of the GUS hardware is the latest?
 
        This is a question that is actually pretty irrelevant.  Yes,
there have been different "releases" of the GUS card (the number is
etched into the board), but there really aren't any differences.
Evidently, some of the newer cards have been redesigned to require
less hardware (and less cost to Gravis), but no functionality changes
have been made.
 
        Also, the newest versions of the GUS (v3.4+) have volume
control on some of the inputs, and adds an on/off and volume control
on the CD input.  The new windows mixer takes advantage of this.
If you have an older GUS, the mixer just grays out the volume sliders.
 
----------------------------------------------------------------------
 
 5] What version of the GUS software is the latest?
 
 
    Title       Ver    Filename   Where?
    ---------  -----   ---------  -------
    Install    2.06L              GUS FTP
               2.06               Mailed by Gravis to Registered owners
    SBOS       3.7B2              GUS FTP
    MegaEm     2.02               GUS FTP
    UltraMID   2.06               GUS FTP
 
----------------------------------------------------------------------
 
 6] Where can I get the latest GUS software?
    (AKA: Where is the GUS FTP site and/or Gravis BBS?)
 
        Ok everyone, here it is.  archive.epas.utoronto.ca will now
hold ONLY submissions and the latest files. (files that were validated
during the previous validation period)  The main archive site for
the ultrasound will now be:
    archive.orst.edu /pub/packages/gravis
 
        This site will hold all gus files, INCLUDING the submit directory
mirrored VERY frequently.  The rest of the sites will hold all gus files
as well, but may or may not mirror the /submit directory.
 
        Submissions will still be taken at archive.epas.utoronto.ca
in the /submit directory as they always have.
 
GUS FTP sites:
 
    North America:
        archive.orst.edu             /pub/packages/gravis
        wuarchive.wustl.edu          /systems/ibmpc/ultrasound
 
    Europe:
        theoris.rz.uni-konstanz.de   /pub/sound/gus
 
    Asia:
        nctuccca.edu.tw              /PC/ultrasound
 
    Submissions and newly validated files:
        archive.epas.utoronto.ca     /pub/pc/ultrasound
 
GUS Mailserver:
        mail-server@nike.rz.uni-konstanz.de
 
        NOTE: theoris is a low-bandwidth site.  The sysadmins have
requested that ONLY european users access the GUS archive from that
site.  Please respect this, or it might disappear.
 
        BTW: You can get a LOT more than just GUS software releases
>from Gravis on the FTP sites.  There's lots of PD software written
specifically for the GUS, music (midi music, midi patches, mods, 669
music, samples, etc., etc), tech info on the card, back issues of the
UltraSound Daily Digest, etc., etc... check it out!
 
Gravis BBS:
        (604) 431-5927
 
6a] What if I don't have FTP access?
 
        Use the GUS Mailserver!
 
        Send mail to mail-server@nike.rz.uni-konstanz.de with the body
of the message as follows:
 
        begin
        send help
        end
 
        Alternatively, you can call the Gravis BBS.  There are several
major disadvantages with this, though:
 
        1] Long distance to Canada (no offense to you Canadians :).
        2] 2400 baud.
        3] The BBS doesn't have all the public domain stuff that
                the FTP sites do.
        4] It's almost *always* busy.
 
        Please *DO NOT* ask people to post binaries to
comp.sys.ibm.pc.soundcard.  It's not a binary newsgroup, and that's a
lot of wasted bandwidth to people who don't want the programs.  Use
email.  It saves bandwidth, fights cavities, and builds character.
 
----------------------------------------------------------------------
 
 7] What machines will the GUS work with?
 
        You need an IBM compatible computer with at least a 286
processor.  It needs to be at least a 386 if you want to use the GUS
with Windows.
 
7a] I've heard about problems with the OPTi chipset...
 
        There have been troubles with the GUS if your computer's
chipset is made by OPTI.  Not all OPTI chipsets are bad, but some of
them have a faulty DMA controller.  We're still trying to pin down
which chipsets are flawed; when we have a better idea of exactly which
ones are bad they'll be added here.  Until then, be careful if your
computer has an OPTI set, and try reading the UltraSound Daily Digest,
or comp.sys.ibm.pc.soundcard on USENET.
 
Written by: dantonio@magick.tay2.dec.com
        Actually, it's not just OPTi chipsets, UMC has been implicated
as well (Gravis first noticed the problem with UMC chipsets) and
according to Digital Audio Labs (who told Gravis what was going on),
the bad datacode is 9149 and the bad chip is the 82C206.  This is all
explained in the docs for GUS0013.ZIP (I think), the OPTi fix posted
to the GUS FTP sites.
 
----------------------------------------------------------------------
 
 8] Why should I upgrade the memory onboard my GUS?
 
        For starters, the announcement has already come out of Gravis
that the standard GUS will come with 512k instead of 256k.  This means
that software companies will write their programs to use *at least*
512k onboard the GUS.  And with all the users going to 1meg, chances
are that things will be written for that limit.
 
        It's a cheap upgrade.  If your board came with 256k, it will
only cost you about $30 to go up to 1meg (see question #10).
 
        There's already a lot of MIDI files out there that require the
full 1meg to play them, because they use lots of different instrument
patches.
 
        If you plan on doing any sampling, you'll need the space.  You
can do direct-to-disk sampling, but it can cause "skips" to go into
the sample each time the sample goes down the bus to the drive.  In a
worst case situation, you could be sampling 16 bits in stereo at
44kHz.  So, you're doing 88000 samples (stereo, remember) of 16 bits
each every second.  That's 171k (176000 bytes) every second, which
means the full 1meg memory will fill up in 5 seconds at that rate.
With only 256k, you can get about 1.5 seconds.
 
        Of course, only people doing very serious stuff with the card
need to sample at that high of a rate in 16 bits.  MOD files generally
do 16kHz 8 bit mono samples.  But upgrading the card is still pretty
important in that case... do the math, and you'll see.
 
----------------------------------------------------------------------
 
 9] Where can I get memory for the GUS, and how much will it cost?
 
        You need six 256x4 DRAM chips, with speeds of 80ns or better
(in other words, 80ns OR LESS).  They tend to run about $4 a piece, so
the total price will be $24 + shipping.  Make sure you ask for
"page mode" ram, or they will not work correctly with your GUS.
 
        To find  a  place with them, just  look through  the  Computer
Shopper magazine.  Check the index for  'memory' and call a few places
for prices.  (After a little calling, I found a place selling them for
$3.45 apiece.)
 
        To ensure compatibility, look for the number "44256" in the
chip number.  If you do not see this number, you probably do not have
the right chip.
 
        NEW NOTE: Gravis is now offering to sell the chips directly to
you for a much lower cost (they can buy in bulk).  Give them a call
for latest chip prices.
 
----------------------------------------------------------------------
 
10] I'm having trouble getting the GUS to work with Windows...
 
        There in one possibility that accounts for about 50% of the
problems people have with the GUS and Windows: you can't have SBOS
loaded before going to Windows.  (You don't need it... if the Windows
program was written right, Windows will handle the link to the card;
the program shouldn't care.)  Try running ULTRINIT (it clears the GUS'
program memory), or rebooting.
 
        Other problems:
 
(a) No sound at all in Windows...
 
Written by: dantonio@magick.tay2.dec.com
        People often put ultrasnd.ini into \windows\system which they
shouldn't.  They SHOULD put \ultrasnd\windows\midimap.cfg into
\windows\system to get the MIDI stuff setup correctly.
 
(b) I'm not getting any sound when I play MIDI files under Windows.
        The Patch Manager shows empty boxes.
 
Written by: bs@mda.ca (Bruce Sharpe)
        You need a file  called ULTRASND.INI.  You  can find this file
in any one of the following places:
 
        1. The v2.06 distribution disk set.
        2. One of the GUS FTP sites.
        3. The Gravis BBS.
        4. CompuServe: GO PCVENB, Library 14, name is ULTSND.INI
                (rename it to ULTRASND.INI after downloading).
 
        ULTRASND.INI must be placed in the directory pointed to by the
environment variable ULTRADIR (usually C:\ULTRASND).  It does *not* go
into the WINDOWS or WINDOWS\SYSTEM directory.
 
        Even if you have an ULTRASND.INI in your ULTRADIR directory,
look at it.  It should have many lines in it saying things like
"0=acpiano".  If it is only a few lines long, get another copy and put
it into the ULTRADIR directory.  Reboot Windows and you will soon be
hearing beautiful music!
 
        (The purpose of the ULTRASND.INI file is to let the Windows
driver know what patch file goes with what patch number.  If the
driver doesn't find the .INI file in the ULTRADIR directory it creates
a truncated version with no patch names in it.)
 
(c) All the list boxes are blacked out in the UltraSound Patch
        Manager.
 
Written by: bs@mda.ca (Bruce Sharpe)
        This was a problem that was fixed in v1.02.  It only occurs in
certain Windows color schemes (e.g., Ocean).  If you can't get your
hands on a more recent PatchManager, then change your color scheme.
 
(d) Other general Windows/GUS problems.
 
Written by: john.smith@gravis.com (John Smith)
        At least one major problem people have been having with the
new release has been solved.  Many thanks to Fransisco Perez. He
noticed that he had a grvsultr.386 file in his \windows directory and
it was NOT the new one.  Apparently, windows looks in the path and
uses the first one that it finds. It should have gotten the one in the
windows\system directory. Using the old one with the new patches etc.
causes SERIOUS problems. The old install software required the user to
copy some things manually and some people put the files in the windows
directory instead of the windows\system directory.  The new install
will install windows automatically and puts the files in the
windows\system directory.  To correct the problem, make sure the
following files are in your windows\system and ultrasnd\windows
directory ONLY!!!  If you find them anywhere else, you should remove
them....
 
 
...\windows\system\
    grvsultr.386                     <
    midimap.cfg                      < These files are also located
    ultmport.drv                     < in the UltraSnd\Windows
    ultrasnd.drv                     <
 
...\ultrasnd\
    ultrasnd.ini
 
...\ultrasnd\windows\
    ultrasnd.ini
    oemsetup.inf
    mixer.exe
    patchmgr.exe
    patchmgr.hlp
    ultrahlp.hlp
 
        Some of you have been trying to re-run the automatic Windows
install simply by running WINGUS from your UltraSound\Windows
directory.  The problem with this is WINGUS is looking for an install
script file that has an extension of .INF.  The first file it
encounters is OEMSETUP.INF, which it trys to execute but because this
is NOT a script file you will get MANY error messages.  Try renaming
OEMSETUP.INF to OEM.TMP then run WINGUS.  WINGUS will then see WIN.INF
and load that instead.
 
----------------------------------------------------------------------
 
11] What new hardware is coming out for the GUS?
 
Ed. Note: I know this list is out of date, but I don't have anything
          better/more up to date, so I'm leaving it.  If you have
          some more recent info, let me know, and I'll put it in here.
 
Written by: Bruce Sharpe (bs@mda.ca)
 
   -------------------------------------------------------------------
   | Advanced Gravis Product Support BBS      Pricing & Availability |
   -------------------------------------------------------------------
   |                Item                           When?    SRP($US) |
   -------------------------------------------------------------------
   | MIDI Connector Box                        |  Apr '93  |  $49.95 |
   | 16-bit Stereo Recording Interface Card    |  Apr '93  | $149.95 |
   | LMSI CD-ROM Daughter Card for CM205 and   | Qtr 1 '93 |  $59.95 |
   |  and CM215 (Phillips, Magnavox, LMSI)     |           |         |
   | Sony CD-ROM Daughter Card for Sony 31A    | Qtr 1 '93 |  $49.95 |
   | Mitsumi CD-ROM Daughter Card              | Qtr 1 '93 |  $49.95 |
   | SCSI CD-ROM Daughter Card                 | Qtr 1 '93 |   TBA   |
   -------------------------------------------------------------------
 
Details?  Good question.
 
----------------------------------------------------------------------
 
12] How do I build the MIDI interface for the GUS?
 
Written by: pcunnell@micrognosis.co.uk (Paul Cunnell)
 
> Has anyone made the midi interface for the GUS that is in the FAQ?
> If so, were did you find the part# 6N138?  I cant seem to locate
> this anywhere.  Also, (excuse my ingorance i'm not an EE) but
> what exactly is that part and its purpose? Thanks...
 
        The 6N138 is a high sensitivity opto-isolator, manufactured by
Hewlett Packard (and I believe, a company called Quality Technology)
The main point in using this part as opposed to other more common
opto-isolators is the low LED ON current spec. (1.6mA)
 
        A midi out circuit is basically a LED in series with 600 ohms,
and a 5V supply. Taking into account the 1.7V forward drop across the
LED, you get about 5mA in the on state.  Other optos generally need
more current to turn them on (say 15-60mA, but this varies a lot). A
'high speed' 6N137 opto will also work, I believe, but that would be a
bit marginal on the input current (spec. is min 5mA).
 
        Since a number of people have been asking, I'll add below the
midi circuit that I'm using, plus a bit of general explanation I've
culled from other peoples' postings on the subject.
 
Generic Midi Out/In/Through Circuit
===================================
 
The following shows a typical OUT, cable, and IN circuit
 
      MIDI OUT port ---->|<- cable ->|<---- MIDI IN port              +5V
                                                                 270   |
            +5V        DIN           DIN                     +--\/\/\/-+
             |  220    +-+ +-------+ +-+   220    +--------+ |
        |\   +-\/\/\/--|4|-|-------|-|4|--\/\/\/--|  OPTO  |-+-+- UART RXD
 UART   | \            | | |       | | |          |ISOLATOR|   |
 TXD ---|  \---\/\/\/--|5|-|-------|-|5|----------|        |-+ |
        |  /    220    | | +-------+ | |          +--------+ | |
        | /         +--|2|-+       +-|2|            6N138   GND|
        |/ 7407     |  +-+           +-+                       |
                   GND                                         |
                                                               |
                   +-------------------------------------------+
                   |
                   |      +5V        DIN
                   |       |  220    +-+
                   |  |\   +-\/\/\/--|4|
                   |  | \            | |
                   +--|  \---\/\/\/--|5|   MIDI THRU
                      |  /    220    | |
                      | /         +--|2|
                      |/ 7407     |  +-+
                                 GND
 
        Note that when the UART TXD is high, no current flows through
the resistors and optoisolator's LED, causing the optoisolator's
phototransistor to remain off, allowing the UART RXD to be pulled high
by the 270 ohm resistor.  When the UART TXD is low, current flows
through the resistors and optoisolator's LED, turning on
optoisolator's phototransistor, grounding the UART RXD.  The voltage
drop across the optoisolator's LED is typically 1.5 volts, leaving 3.5
volts to be dropped across (3 times 220) 660 ohms, which allows about
5 ma to flow.
 
        The reason a current loop is used is that it allows an ground
isolated interconnection.  Note that the ground from the MIDI OUT
port's device is not connected to the ground of the MIDI IN port's
device.  This prevents ground loops in systems where appropriate
attention has not been paid to grounding issues, such as the case of
typical musicians in a typical club!
 
Gravis Ultrasound Circuit
=========================
 
15 pin D connector
                                          220R
pin-1 +5v ----+--------------------------/\/\/\---------------\
              |                                                \ 4
              |                                          Gnd--2   MIDI OUT
              |      |\      |\            220R                / 5
pin-12 tr >---|------| o-----| o----------/\/\/\--------------/
              |    13|/ 12 11|/ 10
              |                            220R
              +---------------------------/\/\/\-------------\
              |                                               \ 4
pin-15 rx <---|--------------------+                    Gnd--2    MIDI THRU
              |      |\      |\    |        220R              / 5
              |   +--| o-----| o---+-------/\/\/\------------/
              |   | 1|/ 2   3|/ 4
              |   |
              |   +------+
              |   270R   |                       220R
              +--/\/\/\--+    +------+----------/\/\/\--------\
              |B         |C   |A     |                         \  4
            +-|----------|----|-+    |                             MIDI IN
            |  8        6     2 |  -----                       /  5
            |                   |   / \ IN914 or IN4148     +-/
            |      6N138        |   ---                     |
            |                   |    |                      |
            |           5     3 |    |                      |
            +------------|----|-+    |                      |
                         |    |K     |                      |
pin-5 Gnd  --------------+    +------+----------------------+
 
        Inverters are 74LS04. (This is a 14-pin IC containing 6
inverters.  Connect pin 14 to +5V, pin 7 to GND)
 
        Leave pin 2 of the MIDI IN unconnected (Don't connect to ground).
 
Some hints for testing your circuit
===================================
 
        1] Check *all* connections (use a continuity tester, and tick
them off on a printout of the circuit).
 
        2] Check them again ;-)
 
        3] Make sure you have the latest (GUS0012.zip) windows midi
driver, and make sure it is installed properly.
 
        4] Make sure your midi sequencer package is set up to use the
Ultrasound Midi In/Out ports. (As opposed to the Ultrasound Synth)
 
        5] If you still have no joy,
 
                a] Just connect the +5V and GND to your midi circuit,
        (leave the d-connector pins 12 and 15 unconnected), and then
        connect pin 13 of the 7404 to +5V check you have (about) +5V
        appearing on pin 10.  This checks midi out.
 
                b] Connect pin 4 of the midi-in DIN socket via 2 extra
        220R resistors to +5V.  Check pin 4 of the 7404.  It should be
        low (about 0V).  Then connect pin 4 of the midi-in DIN socket
        to 0V.  Pin 4 of the 7404 should go high.  This checks midi in.
 
                c] Reconnect the d-type pins 12 and 15, and connect a
        midi cable between midi-out on the circuit and and midi-in on
        your synth.  Set up your sequencer to use the Ultrasound MIDI
        port as an output, and ensure that one of the tracks is set to
        use this port.  Check your synth is expecting MIDI data on the
        same channel as sequencer is transmitting.  Start sequencer
        playing.  Check that midi data is being transmitted at pin 12
        of the d-type (look at it with an oscilloscope, if possible).
 
Note
====
 
        Standard disclaimers apply - use this information at your own
risk, and if your fry your card/PC/synth/toaster, then you have my
sympathy, but not much else ;-)
 
        If you're not happy about messing with circuits and soldering
irons and wires and stuff, then you may wish to wait for the midi
connector box from Gravis to become available.
 
        I notice that in the older FAQs, there is a description (from
Dustin Caldwell <DUSTIN@gse.utah.edu>) of the solder side pinout for a
15-pin D-type connector. This looks wrong to me. I have a 15-pin male
d-type in from of me, and it looks like this from the solder side
(i.e. the side you attach the wires to, rather than the side with the
pins that plugs into the card):
 
                    Gnd             +5V
         8   7   6   5   4   3   2   1
 +-----/-------------------------------\-----+
 |     \ o   o   o   o   o   o   o   o /     |
 | ( )  \                             / ( )  |
 |       \ o   o   o   o   o   o   o /       |
 +--------\-------------------------/--------+
           15  14  13  12  11  10  9
           Rx          Tx
 
        It is easy to get the pins confused on these connectors - the
female version seen from the solder side of course has everything the
other way around (pin 1 is on the left hand side).
 
        Hope this helps (or at least doesn't add to the confusion :-).
All reasonable quality D-type connectors have pin numbers marked
against the pins anyway.
 
----------------------------------------------------------------------
 
13] What exactly is GUS 3D?
 
        First and foremost: YES, this is SOFTWARE.  You will NOT need
to upgrade your GUS to be able to do the GUS-3D stuff.
 
Written By: dionf@ERE.UMontreal.CA (Francois Dion)
 
        There are several systems that are in use to get 3D sounds on
recordings and some have been around since the 50s. Now i wont go into
the "how it works" of the more recent ones, but i think this will
clear up some confusion.  The first part is a "hands-on" experiment,
the second is informations, including the address and phone of the
owner of the technology that is used with the Gravis Ultrasound.
 
        Let's get back to the early days of stereo. One record company
(i cant seem to remember) was pushing it, while another (again, blank.
anyone?)  competed.  Interestingly enough, technological development
was put on stereo, and not on the first 3D system which was called
"binaural recording" and it simply consisted of two microphones placed
like the ears. You can try it this way:
 
        Go to a hat store and buy an extruded foam mannequin head.
You'll then need two microphones. Condenser will do, but you will need
to power them if you want to use them with the GUS, since it take a
dynamic microphone because it does not supply phantom power like some
mixer with XLR plugs. I will post a circuit later for Radio-shack
condenser mike unit (a small element that cost about 2$) if there is
some interest. If you dont want to mess with that, go with a cardiod
dynamic element.  Note that sensitive enough cardiod will cost you a
lot, so think about that.  You cut holes in the ears of the head, to
insert the microphone units (dont forget to make the wires of the
elements go inside the head and out the rear (or wherever). Use glue
to fill the crack around the mic.  Also, the more the ears look like
real ears, the better it will work. If you trim the foam, dont forget
to use an hairdryer to soften it (it will be more uniform). That's it.
Try recording sounds, and you'll be surprised.  I was! I did the
experiment with a polystyrene head on which i incrusted two PZM
microphones.
 
        Now that you understand how 3D recording is nothing like
stereo recording, we'll see what is accesible presently.
 
        First, the gadget we just built in the previous section exist
commercially, and is called "Mikey" and is made by Spherical Sound.
It's the only system commercialised where the microphones are placed
in a head.
 
        Another system is made by Virtual Audio and claims to enhance
stereo depth, but is not labeled 3D audio. I dont have much more info
on it, but from the description it looks like the same thing as the
"mikey".
 
        Two other systems use less restraining microphones situation
and can also be used on any signal because a DSP simulate a 3D signal
>from parameters entered on the machine.  QSound (no hyphen) was
developped in Quebec, and the inventor sold the concept to another
company (Archer it seems). It is not that good even with electrostatic
headphones, and is pretty bad if you are listening to it thru speakers
and you are not in the sweet spot. And for trivia: Madonna, Sting,
Wilson Phillips and Paula Abdul to name a few have used the QSound on
their latest recordings. Another trivia: The Q logo is very very close
to Hydro-Quebec logo... QSound cost around 18K$ and is not midi
controllable.
 
        The other variant with a DSP is Roland RSS (Roland Sound
Space). It is a bit better (depending on how it is used) than QSound
with headphones, but suffers the same faith as QSound when you are
listening with speakers. Just move a bit from the sweet spot, and
suddenly what was in front left is now back left. RSS was used on
Suzanne Cianni _Hotel Luna_ album.  RSS cost around 40K$ and is midi
controllable.
 
        Another system on which i have zero information is called
Audio Cybernetics.
 
        The last technology is called Focal Point 3D Audio. It was
developped by Bo Gehring and first used on the Macintosh computers
with a modified Audiomedia (Digidesign). It cost around 1400$ in this
configuration. But, Gravis saw that (Focal Point is from Seattle) and
it is the system that we will be getting. At a much better price. The
system produce the sounds with these parameters: direction, elevation
and distance.  I am pretty sure that Gravis will have to develop a
SYSEX command set. We already need it badly, but with 3D, i will shoot
myself if i cant control it thru sysex.
 
        By the way, here's how to get in touch with Focal Point 3D
Audio, if you're interested.
 
        Focal Point(tm) 3D audio
        1402 Pine av., #127
        Niagara Falls, NY 14301
        Voice/fax: 1-416-963-9188
 
        Ok, you have read the 3D thing, and you cant wait. You want
big sound. The only possibility for now is surround. Now surround cost
a lot of money, and it will not be useable anymore once you get the 3D
driver. Wrong.
 
        Now, i hope you have an amplifier, cause if you dont, you
can't use this little hack to get surrounding sound. WARNING: i am not
responsible for any damage resulting from the use or misuse or
anything else related to this circuit.  Check that your - posts are
connected to ground and not the +. If it's the case reverse the
connections to the amplifier.
 
        It works surprisingly well considering the cost. Have fun!
 
  | Amplifier |
  | + -   - + |   You connect the front speakers as usual (dont mixup
   /| |   | |\    the polarities!)          _
  | |_|   |_| |   FLS: Front left speaker (/_\)
  | /_\   /_\ |   FRS: Front right speaker
  | FLS   FRS |   R: variable pot 50 ohm. 10 watts or more (depends on
  |_         _|      the amplifier)
  > |       | <
  ><'R     R'><    RLS: Rear left speaker (use a much smaller speaker
  >           <         for rear than front. 8 ohm also.)
  | RLS   RRS |    RRS: Rear right speaker (")
  |  _     _  |
  | \_/   \_/ |    the 2 - on front speakers are connected to the
  |_/ \_._/ \_|    ground of the amplifier internally, so you dont
   +   -|-   +     have to connect them.
        |_
        > |
        ><'R
        >          Here, you do need to connect the 2 - thru R to the
       _|_         amplifier ground.
        -  AMP GND
 
        Put the 3 potentiometer in a box so that you have the control
in one place, and use enough wire so you can move with it. You'll have
to experiment so that the R going to ground is a little higher than
the other 2 and once that adjusment made, the other two must be
adjusted so that the rear speakers are just adding a touch of depth
(if you turn them off, you notice that the surround is gone). Also, if
you have A-B speaker selection, plug the rear speakers on the + of B
instead of A, you will then be able to switch them off easily.  Of
course, when you will use the 3D audio, it will affect the signal, so
it's better to unplug the rear section.  But for your video, tape, CD
and regular GUS, you will still find it cool.
 
----------------------------------------------------------------------
 
14] What are *.PAT *.VOC *.WAV *.SND *.MOD *.669, and *.MID files, and
        how do I use them?
 
Written by: Matthew E. Bernold <MEB117@PSUVM.PSU.EDU>
 
        These are all different types of sound files.
 
        *.PAT files are GUS instrument files, or PATCH files.  These
files are what your GUS uses to recreate the various instruments it is
capable of playing.  Your .PAT files should be in your /ULTRASND/MIDI
and /ULTRASND/SBOS directories.
 
        *.VOC and *.WAV files are basic digital sound files with
headers.  The *.VOC files are used on the soundblaster, and the *.WAV
files are used by Microsoft Windows.  Players capable of using these
formats can read information on sampling rate, 8 or 16 bit, and
mono/stereo from the header of these files.  *.WAV files can be played
in MS Windows by many programs.  *.VOC files can be converted to *.WAV
by many different programs, including SOX which is available via FTP.
The latest version (7.0) has been ported to PC clones and can be found
on the GUS FTP sites.
 
        *.SND files are raw sound files with no header information.
This is the format currently used by the GUS.  This means that you
have to tell the player program about the sample, because the
information on how to play it is NOT in the file, like with the *.VOC
or *.WAV files.  You can play these files using PLAYFILE which came
with the GUS.
 
        *.MOD files are 4-voice 15 or 31 instrument music files which
originated on the Amiga.  They use 8-bit, 16kHz samples to produce the
instruments, and note information to play the songs.  *.MOD files are
similar to MIDI files, but they are a bit more flexible because you
can use any sample as an instrument (including voices and sound
effects) instead of relying on the MIDI synth's own built in
instruments.  You can play these files using GUSMOD which can be found
on epas.
 
        *.669 files are 8-voice music files.  I don't know much about
them, so maybe Tran (author of the GUS 669 player) can fill in this
area.  You can play these files using P669GU0 which can be found on
epas.
 
        *.MID files are MIDI files.  You can play these files with
PLAYMIDI that came with the Ultrasound package, or with MediaPlayer in
MS Windows.  You might have to create a *.cfg file for the MIDI file
if it was originally created for a synth that does not conform to the
GM Midi standard.
 
----------------------------------------------------------------------
 
15] What exactly is Wavetable Synthesis?
 
Written By: dionf@ERE.UMontreal.CA (Francois Dion)
 
        It is easier to find the Holy Grail than to find a text
describing precisely what synthesis method the GUS uses, so it's time
i take a shot at it. For this text i have searched thru ftp archives
troughout the world, have asked info from Ensoniq, Roland,
TurtleBeach, Advanced Gravis, Forte Creative Labs and i also took into
account the numerous comments, praise and flames i received to model
the text. Since this text is a result of a collective internet and
industry wisdom, flames will go the way of /dev/nul.  And please, read
the text carefully, because i have received some comments from people
who were thinking i wrote something when in fact i wrote the opposite
(particularly from non anglophones).
 
        You probably have heard about the GUS beeing a wavetable
soundcard.  I have received some comments that the GUS is not such a
thing, but since the industry uses this term (i.e. CL waveblaster,
GUS, TB multisound etc...), i am not in a position to create confusion
by renaming the technology.  Wavetable explains perfectly what it is.
A table containing a waveform.
 
        The GUS uses the third generation of wavetable synthesis, so
before i start explaining it, i'll talk about the first two
generations first.
 
        The first generation of wavetable synthesis was actually a
_digitally_ controlled _analog_ oscillator(s) where parameters
controlling the waveform were kept in memory. The curtis based synths
and some others are directly derived from this concept.
 
        The second generation of wavetable synthesis uses a digital
oscillator, with the waveform held in memory in it's basic form (one
period usually).  Parameters to alter the oscillator behaviour are
also in memory.  I use the general term "memory" instead of RAM,
because in some case it's actually ROM, FlashROM, PROM, EPROM,
switches, buffers etc... The Ensoniq chip found in the Macintosh Plus
is an example (8 bit, 4 oscillators, 4096 byte wavetable).
 
        The third generation of wavetable synthesis which can be found
in two flavors (RAM or ROM) is based on the second generation, but
uses bigger wavetables to hold the waveform (either in single period
or multi period format) including this time the attack and release. In
this section, i will focus only on the GUS implementation, which
basically encompass all other implementations.  Basically, what you
have are 32 oscillators which can do the exact same thing, and be
programmed separately and/or simultaneously. What the hardware can do
without the operating system is not too important here since we are
looking at what the GUS _can_presently_do_ (with modifications to the
OS, the GUS could do pretty much any synthesis method one can dream
up), not what it would have done if the OS wasn't available.  Of
course, more processing done in hardware means more CPU cycles left
for other things.
 
        So in the GUS, you have some RAM (up to 1Mb) that holds 1, 2,
3, etc, wavetables which consist of a sampled (or soft-synthesised)
waveform, some parameters and optionally a sampled attack and release.
The GF1 chip (an asic based on the Ensoniq DOC-II chip) will then
playback a waveform when triggered based on some parameters it is
given, and on others it will fetch from the wavetable. I dont know if
all parameters can be fetched from RAM by the GF1, nor if the GF1 can
fetch some instructions from RAM, but by using the current OS built in
the windows drivers or in the DOS library, this is what the GUS
_can_presently_use_ to synthesise music:
 
        - sampled or envelopped attack in 8/16 bit, signed/unsigned
                format *
        - sampled waveform (anything! a period, or a several seconds
                sample) *
        - sampled or envelopped release *
 
with:
        - velocity (volume) *
        - panning (balance) *
        - precise frequency playback rates (with frequency based
                antialiasing and oversampling) *
        - mixing of all the channels *
 
Up to here, it's sample playback. But there is more:
 
        - full vibrato (FM, depth, rate, sweep)
        - full tremolo (AM, depth, rate, sweep)
        - LFO (Low Frequency Oscillator) *
        - forward, reverse, dual direction looping or no looping *
        - the loop points can be anywhere (for sampled attack and release) *
                |-------|-------------|--------------|
                Start   Start loop    End loop     End
        - 6 point envelope
        - tuning *
        - fractional endpoint *
        - combination of oscillators (up to 4 if the GF1
                implementation is the same as Ensoniq) *
        - previous waveform usage *
 
And more recently:
        - 3D (focal point 3D positioning)
 
        ( "*" indicates that the operation is done in hardware. Some
others may be done in hardware but i have not done any tests or found
any technical information to confirm it. I also base 1 item on the DOC
II capability, which should be implemented in the GF1.)
 
        Also, reverb, flanger, phasing etc...  could be easily
implemente within the drivers. Presently it can be done with a little
work on the patches and/or midi timestamp (i have succesfully made
flanger and phasing).  Another thing that could be implemented is
dynamic patch loading since the card supports it (i have done it). You
can even get a distorted sound (ideal for guitars, vox, analog synths)
by simply changing the 2's complement flag (work best with
soft-synthesised patches).
 
        Last, it is far better to have a RAM wavetable synth than a
ROM one, since you can upload your samples.  Even sound canvas owners
(and other synths too) complain that their ROM based GS synth lacks
interesting drum and bass sounds, cannot play sound effects, and is
not usable for dance and techno.  Also you can have more space for
each samples, because you always have only the samples you need in
memory, so you can have better sampling rates and better waveforms.
 
----------------------------------------------------------------------
 
16] Is there a GUS device driver for Linux/BSD386/*IX?
 
        There is a group of people working on device drivers and C
libraries for Linux, BSD386, 386bsd, Minix, SysVR3/386, and whatever
other PC/UNIX flavors there are out there.
 
        The GUS driver is now included in the Linux kernel
v0.99.14 or later, so you don't even need to get a seperate
driver.  Thanks to Hannu Savolainen...the writer of this driver.
 
        I do not have any information about GUS support on other
PC-unix platforms.  If you use the GUS on a Unix platform other
than Linux, please let me know so I can include that in this FAQ.
 
----------------------------------------------------------------------
 
17] How do I get the GUS to work with OS/2?
 
        As of now, there is no OS/2 specific device driver for the
GUS.  According to Gravis, they are working directly with IBM to get
OS/2 drivers for the GUS written.  A specific release date has not
been announced.
 
        There are a few simple tricks to get the GUS to work with OS/2
to a small degree right now:
 
Written by: Thomas Wong <twong@civil.ubc.ca>
 
        As it is right now, what you'll have to do is use a 8 bit DMA
channel in your setup of the GUS to make it work under a DOS window
under OS/2.  If you have already installed/setup your GUS card, just
go into the c:\autoexec.bat file under OS/2 and manually change the
number in the environment variable.  So, for example, use DMA channel
#1.  By doing this, you can now use playmidi, 669 player, gusmod... a
number of GUS programs. But you still can't run playfile or SBOS (it
may crash).  In other words, you can use a play a list of midi, 669,
mod...etc files in a DOS window, but can't play games.  Gravis did say
they will come out with an OS/2 driver but no date is set.
 
----------------------------------------------------------------------
 
18] How do I go about programming the GUS?
 
        Gravis and Forte have released a very detailed SDK for the
GUS.  It includes source code, libraries, documentation, etc., etc,
and it's available on the FTP sites (see question #6).
 
        Also, there are two UltraDox files written by Phat Tran up for
FTP as well.  Read them carefully, learn to love them.
 
        (If you want to use the GUS with another OS besides MSDOS,
read questions #21 and #23.)
 
----------------------------------------------------------------------
 
19] What are the pinouts for the CD Audio IN on the GUS?
 
Written by: <grtorlba@seattleu.edu>
 
        About two days ago I posted requested some info on the 4-pin
CD audio pin on the GUS.  I never got a reply but I got the info by
downloading volume 1 of the digest.
 
        The pin info was:
 
        left ground ground right
 
        I've tried this pin assignment and it seems to work.  The
articles in the digest pointed out that they weren't certain of the
left-right assignment but the two pins in the middle are definitely
the grounds.
 
----------------------------------------------------------------------
 
20] I'm having trouble with... GENERAL TROUBLESHOOTING TIPS
 
Written by: john.smith@gravis.com (John Smith)
 
        It looks like a lot of the problems are incorrect
installations.
 
        Make sure that you put ALL the correct files in the
/ultrasnd/sbos directory and remove any old ones. Sbosdrv.exe,
Loadsbos.exe and Sboslib.sbs MUST all be from the same release
revision. They are NOT mixable. A lot of the problems you are seeing
could happen if the wrong driver is used with the new loader and patch
library.  To make sure you are using the correct files, delete ALL
files from /ultrasnd/sbos. Then unzip the new release into the sbos
directory. Then COPY sbosdrv.exe up to the /ultrasnd directory.  Then
COPY loadsbos.exe up to the /ultrasnd directory also.  Now pick either
sboslo.bat or sboshi.bat up to /ultrasnd/sbos.bat.  These two batch
files assume you are using emm386. If you are using another memory
manager (like qemm, 386max etc), use the appropriate command to load
it into high memory.  (NOTE: If you installed your software in some
other directory, substitute it in place of /ultrasnd).  ] Not all of
the tips below apply to all programs. This is just a brief summary of
some of the things we had to do to get some games running properly.
 
        1) Make sure the BLASTER environment string tracks our
ULTRASND string. Many games look at BLASTER to set up their stuff.
SBOS needs ULTRASND. If they are not the same, the game will be
looking one place and SBOS will using another. This is another reason
NOT to have an SB and GUS in the same system. Presumably, the SB would
want BLASTER set up for it and any game looking at it would not work
with SBOS. BLASTER is set up like this:
 
    BLASTER=A220 I5 D1 T1
              |    |  |  |
              |    |  |  -  Type of SB (1 = regular SB)
              |    |  ----- DMA channel (MUST be 1)
              |    -------- IRQ used.     (same as GUS midi irq)
              ------------- I/O base address
 
        This variable is set up by the GUS setup program.  It should
never need to be modified unless you modify ULTRASND by hand.
 
        For example, wolf3d looks at BLASTER to get its parameters.
Sound will NOT function if the IRQs are different, but it will detect
an Adlib.
 
        2) Make sure that SBOS is up and running BEFORE you install
your game. Some games configure themselves during their installation
procedure. If SBOS is not running, it will assume there is no sound
board present.
 
        3) Some games have a separate setup/configuration section.
Make sure you run this after you install the game OR change the
ULTRASND variable. They are usually called setup, install or config.
Look around for it. Some games also save the last configuration to use
the next time the game is run. This means that if it didn't detect the
card (because SBOS wasn't loaded), it will save that info and will
start up the NEXT time with sound disabled. You will have to manually
turn sound back on somehow.  See your games manual. For example,
Wolf-3d will do this.
 
        4) Some games need all available RAM to run.  Since SBOS
currently takes approximately 19K, it may not have enough to run. Some
games will shut off some of the sounds if RAM is short.  Check your
manual. It may also be necessary to load SBOS high to reclaim some of
the RAM.
 
        5) If you have poor performance with SBOS loaded, see if you
have an expanded memory manager running.  (qemm, 386max, emm386 etc)
There is a SEVERE performance penalty to be paid if you run with
these. Its a byproduct of your machine running in protected mode.
Usually, only games that use direct I/O (mod players for example) are
seriously effected by this. If you must have SBOS loaded high, then
you will have to live with this. It is possible to disable the virtual
DMA if you are using qemm. (NOVDS) Doing so should speed things up a
bit.
 
Comments on above paragraph by mike@batpad.org (Mike Batchelor)
]
]               This paragraph contains some errors, from where I sit.
]       You may disagree, but I offer my perspective anyway:
]
]               1.  Virtual 8086 mode entails no more than a 5%
]       performance penalty over real mode.  It does not matter which
]       memory manager you use, the degradation is dependent on the
]       CPU and the motherboard.  In any case, the penalty is hardly
]       what you might call SEVERE.
]
]               2.  QEMM's NOVDS parameter has NOTHING to do with
]       virtualization of the standard DMA channels.  There is no
]       switch to disable this feature of QEMM, DMA would not fuction
]       in V86 mode if the memory manager does not virtualize it.
]       They all do this, they all MUST do this.  NOVDS tells QEMM not
]       to support the Virtual DMA Specification, which has to do with
]       virtualizing non-standard DMA used by bus-mastering adapters
]       (usually SCSI host adapters, but can be network cards, etc.).
]       The VDS spec is a means by which these non-standard DMA
]       operations may be virtualized in V86 mode.  QEMM normally
]       virtualizes the DMA channels handled by the motherboard's DMA
]       controller.  So-called bus-mastering disk controllers do DMA
]       on their own, without help from the DMA controller, so the
]       normal way of virtualizing DMA will not work.  VDS is the
]       solution for this.  Adding NOVDS to the QEMM line will disable
]       support for ASPI4DOS.SYS, USPI24.SYS and other VDS-supporting
]       SCSI host adapter drivers.  This will prevent the user from
]       loading anything into mapped memory in the first megabyte
]       (High RAM) from the SCSI hard disk.
]
]               The usual way to improve DMA performance is to
]       increase QEMM's DMA buffer.  The default on ISA systems is
]       12K, and 64K on MCA systems.  It can be increased to 128K max.
]       DMA=nnn specifies how large the length of a single DMA
]       transfer can be, in nnn Kb.  QEMM should prompt you to
]       increase the DMA buffer if a program attempts to exceed the
]       capacity of the current buffer.  I have found that 64K is
]       plenty for all programs I have used with the GUS.
 
        6) It is possible for an application to detect the Adlib side
of the GUS without SBOS being loaded. It depends on the method it uses
to detect it. Obviously if that happens, the application will think it
has an Adlib, but nothing is going to work.
 
        7) Many games need to detect (and use) extended/expanded RAM
before some sounds will be activated (usually digitized stuff) Refer
to your manual for these kind of problems.  An SB will not operate
properly under these conditions either.  For example, Falcon III will
not play digitized sounds until EMS is set up properly.  SBOS has
nothing to do with this problem.
 
        8) Some games hard code their I/O address and/or irq
selections. Refer to your manual.  You will have to make the GUS'
selections match these. I believe some Sierra games do this.  Wing
Commander requires a base port of address of 220 for digital speech to
work.
 
        9) Unless you are POSITIVE that a particular game needs an
option, (-o1 -o2 etc) DON'T specify one, 99% of the games do NOT need
one. You may screw up the driver by specifying one that you don't
need.  You should unload and reload the driver before specifying an
option. Since it is possible to use more than one option, you may be
telling it conflicting things if you don't unload it.
 
        10) There are several new features in SBOS that you should be
aware of:
 
                a) SBOS reloads its patches before an application
        runs.  This should eliminate having to reload it between
        running windows or a native GUS application (GUSMOD Star Con
        II, playmidi etc) and a game that uses SBOS.
 
                b) You can change the vector that it uses for
        communicating between sbosdrv.exe and loadsbos.exe.  The
        option is -Cxx, where xx is the new software vector to use.
        This is specified to sbosdrv.  Currently, only 1 application
        is known to need this.  Netroom uses the default vector (7E)
        so sbosdrv thinks it is already loaded.  If you are using
        netroom, you MUST change the vector #.  Netroom is the only
        application that we know of that has this problem.  There may
        be others.  We don't know of ANY games that do.
 
                c) You can tell SBOS to leave line-in enabled by
        specifying a -L when SBOS is loaded. This can be useful if you
        want to monitor some other audio output source thru the GUS.
 
        11) The volume up and down keys (defaults are [ and ]) do not
work in all games. Any game that takes over the keyboard vectors will
disable this feature. You must use the -V option when loading sbos to
alter the volume for these games.  This option works like this: -vxx
where xx ranges from 0 to 31 (31 being max volume) Note: in SOME
versions prior to 1.4B2, hitting the volume keys would hang your
system. This has been fixed.
 
        12) Some games grab all possible SB irqs (2,5 and 7) when they
initialize to find what IRQ the SB is on.  If they do this with SBOS
and SBOS happens to have the UltraSound IRQ on one of the SB irqs, it
will not let SBOS get its irq. Make sure that you set the UltraSound
irq to one of the upper ones (11,12 or 15). Jill of the Jungle is an
example of a game that exhibits this problem.
 
        13) Now for some simple things to look for.
 
                a) Is board seated properly?
                b) Is DRAM in sockets correctly (bent pins etc)?
                c) Are stereo/speakers hooked up properly?
                d) Are you connected to the right outputs on GUS?
                   (Some Ultrasound boxes are labeled wrong ...)
 
                        TOP OF ULTRASOUND
                        =================
 
                        Amplified Out
                        Line Out
 
                        Joystick/Midi 15 pin connector
 
                        Microphone In
                        Line In
 
                        BOTTOM OF ULTRASOUND
                        ====================
 
                e) Do you have enough environment space for ULTRASND
                   and BLASTER variables?
                f) Did you set the volume too low?
                g) Is \ultrasnd in your path?
                h) Could you have gotten a bad download of new SBOS?
 
        14) Several people have complained about sbos loading VERY
slowly.  Is your joystick or MIDI plugged in?  Try unplugging it.  As
of now, we haven't been able to reproduce this problem.  It may be
related to installing the software incorrectly or a DMA conflict.
 
        15) If your joystick doesn't operate properly in a game, look
for these things.
 
                a) Has it been calibrated (see manual)
                b) Do you have 2 games ports in your system? (GUS and
                   another game port). If so, one MUST be disabled.
                c) DO you have a line like the following in your autoexec
 
                   joycomp 20
 
                   where 20 is the compensation factor determined thru
                   the calibration utility, ultrajoy.
 
        16) There are several things people have noticed that seem to
effect SBOS that need to be investigated. None of these have been
verified, but you should be aware of them and you might try
eliminating them as possible sources of your problem.
 
                a) Loading SBOS hi can cause some FM stuff to sound
                   'weird'.
                b) Using 'Stealth' mode on QEMM seems to have a
                   detrimental effect.
                c) Change sbos.bat file to use loadhi instead of lh if
                   using QEMM.
                d) Stacker seems to cause some people problems.  It
                   works OK for others.
                e) Order that TSR's are loaded may have an effect. Try
                   loading SBOS first, last etc.
                f) When using XWing make sure that you have at least
                   896K of EMS (not XMS) and 563K of conventional.  If
                   you are having problems with slowdowns try turning
                   off the music.
 
        17) The only other thing we can think of is a hardware problem
on your card. The diagnostics in the new setup program should be able
to isolate it.
 
        Granted, we are a bit biased, but we believe that you should
get SUPERB sound out of your GUS.  If you are getting less than
satisfactory results, there can only be a few explanations.
 
                a) in windows, make sure its in 'high fidelity' mode.
                b) Incorrect software installation.
                c) Incorrect hardware installation (IRQ,DMA etc)
                   (probably)
                4) Bad hardware.(PC or GUS)
 
----------------------------------------------------------------------
 
21] I can't seem to fit the new disks onto a floppy.
 
        First of all, the files need to go on to a HD 3.5" disk.
 
        Next, some of the disks were zip'ed a second time to include a
small README file (in other words, the .zip file you downloaded
contains two files: a README file, and another .zip file).  This would
have been a good idea, except the .zip file got bigger; too big for a
HD 3.5" disk.  So, you'll need to unzip the file, read the README, and
copy the new .zip file to a floppy.
 
----------------------------------------------------------------------
 
22] Why shouldn't I use the comp.sys.ibm.pc.soundcard.GUS newgroup?
 
        c.s.i.p.s.GUS wasn't created legally; ie: there was no formal
call for discussion, voting, etc., etc.  As such, many sites refuse to
carry the group.  Posts there get to few readers.
 
        If anyone wants to take the time and energy to go through the
steps needed to get a new group created the correct way, I'm sure all
the GUSers would be more than happy to move there.
 
        (USENET tip for newbies: Don't create a new group for every
new topic that comes along.  Find the group that your topic fits best
in, and use that.  If you don't like all the other posts in the group,
learn the magic incantations that go along with killfiles in your
newsreader.)
 
----------------------------------------------------------------------
 
23] What are "Miles Drivers", and how do I use them?
 
Written by: Matthew E. Bernold <MEB117@PSUVM.PSU.EDU>
 
        Miles drivers (also known as MIDPAK/DIGIPAK) are a set of
drivers that software companies to easily support many soundcards.
The game is programmed to use these drivers, and then any soundcard
with an appropriate driver will automatically be supported.  The Miles
drivers for the GUS can be found on the Epas archive site.  The
current version of these drivers is v.97beta (filename GUSAIL97.ZIP)
 
        There are three driver files and one TSR in the GUS Miles
Drivers.  The drivers are GF1MIDI.ADV, GF1DIGI.ADV, GF166.COM and the
TSR is ULTRAMID.EXE In order to use these drivers, you need to copy
them over existing sound drivers for another card.  These drivers
should have easily recognizable names like:
 
        (List taken from Monopoly Deluxe)
 
        SBDIG.ADV               Sound Blaster Digital
        SBFM.ADV                Sound Blaster FM Music
        SBPDIG.ADV              Sound Blaster Pro Digital
        SBP1FM.ADV              Sound Blaster Pro v1 Music
        SBP2FM.ADV              Sound Blaster Pro v2 Music (OPL3)
        MT32MPU.ADV             Roland MT32 Music
        PCSPKR.ADV              PC Speaker driver
 
        The above names are typical, but they may change.
 
        To get the game to work, you should do the following (This
example assumes that your Ultrasound directory is c:\ultrasnd and that
your miles drivers are in c:\ultrasnd\miles and your game is in the
directory c:\game):
 
        1) Change into your Game's directory
 
C:\>CD GAME
 
        NOTE: Any of the below steps MAY not be necessary, depending
on what your application uses.  If the app uses only Digital sound,
and no MIDI music, for example, you will not have to do step 3.
 
        2) Copy GF1DIGI.ADV over a Digital driver.  I would suggest
choosing the one that is most functional.  Choose the SBPro driver
over the SB one and you MIGHT get stereo (depending on what the game
does) and choose the PAS-16 driver (if one is present) and you MIGHT
get 16-bit sound if the game uses it.  We'll choose the SBPro driver.
 
C:\GAME>COPY C:\ULTRASND\MILES\GF1DIGI.ADV SBPDIG.ADV
 
        3) Copy GF1MIDI.ADV over a Music driver.  Here, I would
suggest that you try different ones and see which sounds best.
Sometimes the program plays a different version of the music depending
on your card.  For Terminator 2029, I found that the MT32 setting
sounds better, but the SCC-1 setting sounds more like the movie music,
even though it isn't as clear and nice sounding.  For this example,
we'll try the MT32 driver.
 
C:\GAME>COPY C:\ULTRASND\MILES\GF1MIDI.ADV MT32MPU.ADV
 
        4) Copy GF166.COM over the .COM file for the card you selected
above.  This should be fairly simple.  If you chose 2 different cards
as we did in this example, then copy the GF166.COM over the .COM file
for BOTH cards (just to be safe)
 
C:\GAME>COPY C:\ULTRASND\MILES\GF166.COM SBLASTER.COM
 
        (For this game [Monopoly Deluxe] there doesn't seem to be a
.COM file for the Roland MT32, so I didn't copy over it here)
 
        5) This step is MANDITORY.  Run the game's SETUP utility and
choose the cards you chose above.  In this example, we chose SBPro for
Digital, and MT32 for Music.  If the SETUP utility does NOT allow you
to choose two different cards, you must redo steps 2-4 patching only
ONE card's drivers.  Most programs now allow you to choose 2 cards,
however.
 
        6) Run ULTRAMID.EXE.  This needs to be done before you run any
games that use the Miles Drivers.  There should be instructions on
different command line options for ULTRAMID in the readme file that
comes with the archive.  Realize that ULTRAMID takes around 50k right
now, so you may have to load it high to get enough conventional memory
to run your game.
 
        That's it!  Your game SHOULD now have full GUS support.  If it
doesn't, here are a few hints on how to possibly fix things:
 
        1) Try copying the GUS's *.ADV drivers over ALL the *.ADV
drivers in the game's directory.  According to the README file, a good
indication of what a driver is is that if the driver is <10k then it
is a Digital driver, and should be replaced with GUSDIGI.ADV, if
larger, then it is a MIDI driver, and should be replaced with
GUSMIDI.ADV.  The name should also give you a clue as to what to
replace it with.
 
                a) MIDI drivers: MT32, SCC1, ADLIB (Usually), Anything
        with 'FM' like SBFM or SBP2FM
 
                b) Digital drivers: SBDIG, SBPDIG, PASDIG, PCSPKR.
        Usually these drivers will have 'DIG' in them, but not
        necessarily.
 
        2) Try copying the GF166.COM file over ALL the .COM files in
the directory.  BE CAREFUL WHEN YOU DO THIS!  Some games have .COM
files other than the music drivers that should NOT be copied over.
Most of the time, the .COM files you are looking for will be small,
and will usually have a recognizable name, although this is not always
the case.
 
        3) Some games on the list in the readme file from the archive
may use the Miles drivers, but NOT have *.ADV files anywhere.  From
what I understand, the Miles drivers will have the word "Miles"
embedded in them somewhere near the beginning.  Look through some of
the smaller files in the directory with an editor and see if you can
find the word "Miles" somewhere.  Some games rename the Miles drivers
to *.DRV.
 
        Good luck, and happy GUSing.
 
----------------------------------------------------------------------
 
24] Where can I find more information on the GUS?
 
    1) GUS FAQ       Posted in Netnews about every 2 weeks.
                     Located on FTP sites in ..../info/gusfaq.txt
 
    2) 00Index.ALL   Recursive listing of all GUS files on the FTP
                     sites with brief info.  Located in the root
                     directory of GUS archive sites.
 
    3) GUS digest    The ultrasound digests are mailing lists for
                     ultrasound owners/users.  Following are the
                     addresses for the various digests available.
 
              ----------------------------------------
       GUS Daily Digest:  General Gravis Ultrasound topics.
 
         Subscribe/Unsubscribe:   gus-general-request@mail.orst.edu
         To post:                 gus-general@mail.orst.edu
         To talk to a human:      gus-general-owner@mail.orst.edu
 
       GUS Musician's Digest:  For Gravis Ultrasound musicians.
         Subscribe/Unsubscribe:   gus-music-request@mail.orst.edu
         To post:                 gus-music@mail.orst.edu
         To talk to a human:      gus-music-owner@mail.orst.edu
 
       GUS Programmer's Digest:  For Gravis Ultrasound programmers.
 
         Subscribe/Unsubscribe:   gus-sdk-request@mail.orst.edu
         To post:                 gus-sdk@mail.orst.edu
         To talk to a human:      gus-general-sdk@mail.orst.edu
              ----------------------------------------
 
    4) info docs     Various info files on various subjects including
                     MIDI, a description of 3d sound, a description of
                     wavetable synthesis, fixing up your UltraSound,
                     docs for the mailserver, advice on MIDI gear, and
                     lots of other stuff.  Located in ..../info on the
                     UltraSound FTP sites.
 
    5) Gravis info   Gravis press releases and other information
                     including stuff from John Smith about Gravis
                     products and information on current/future Gravis
                     projects.  Located in ..../gravis/bulletin on the
                     UltraSound FTP sites.
 
    6) G-List        GUS game compatibility list.  See Q2 for full
                     description and how to get the G-List.
 
----------------------------------------------------------------------
 
        Well, that's it for the FAQ for now.  If there is anything you
would like to add/change, please let me know.  It is constantly changing.
 
NOTE: All submissions by mail to the GUS FAQ must have a subject line that
      looks like one of the following:
 
      Subject: GUS FAQ Q*: rest of subject
      Subject: GUS FAQ: rest of subject
 
      If the submission refers to a specific question in the FAQ, use the
      first subject line and replace "*" with the question number.
 
      Any FAQ submissions that do not have the proper Subject line may be
      deleted accidentally while I'm sifting through my mail discarding junk,
      so please, for my sanity, try to use the Subject lines above.
-- 
        
       Matthew E. Bernold             MEB117@PSUVM.PSU.EDU
         <<APOCALYPSE>>               meb117@wilbur.cac.psu.edu

